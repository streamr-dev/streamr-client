!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("streamr-client",[],e):"object"==typeof exports?exports["streamr-client"]=e():t.StreamrClient=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=69)}([function(t,e){var n=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(33)("wks"),o=n(20),i=n(1).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(1),o=n(0),i=n(13),s=n(8),u=n(9),c=function(t,e,n){var a,f,l,d=t&c.F,p=t&c.G,h=t&c.S,v=t&c.P,y=t&c.B,m=t&c.W,b=p?o:o[e]||(o[e]={}),g=b.prototype,_=p?r:h?r[e]:(r[e]||{}).prototype;for(a in p&&(n=e),n)(f=!d&&_&&void 0!==_[a])&&u(b,a)||(l=f?_[a]:n[a],b[a]=p&&"function"!=typeof _[a]?n[a]:y&&f?i(l,r):m&&_[a]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((b.virtual||(b.virtual={}))[a]=l,t&c.R&&g&&!g[a]&&s(g,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(4),o=n(47),i=n(29),s=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(5),o=n(19);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports={default:n(70),__esModule:!0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(49),o=n(30);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(48),o=n(34);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports={}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(108)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++o)}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(107))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=!0},function(t,e,n){var r=n(5).f,o=n(9),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(97),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){var r=n(6),o=n(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33)("keys"),o=n(20);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(1),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(78)),o=s(n(86)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,e,n){var r=n(4),o=n(82),i=n(34),s=n(32)("IE_PROTO"),u=function(){},c=function(){var t,e=n(28)("iframe"),r=i.length;for(e.style.display="none",n(56).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[s]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){e.f=n(2)},function(t,e,n){var r=n(1),o=n(0),i=n(23),s=n(38),u=n(5).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:s.f(t)})}},function(t,e,n){t.exports={default:n(95),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(36),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(100)),o=s(n(104)),i=s(n(36));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function s(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,r||t,i),u=o?o+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,s=new Array(i);r<i;r++)s[r]=n[r].fn;return s},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,s){var u=o?o+t:t;if(!this._events[u])return!1;var c,a,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,s),!0}for(a=1,c=new Array(l-1);a<l;a++)c[a-1]=arguments[a];f.fn.apply(f.context,c)}else{var d,p=f.length;for(a=0;a<p;a++)switch(f[a].once&&this.removeListener(t,f[a].fn,void 0,!0),l){case 1:f[a].fn.call(f[a].context);break;case 2:f[a].fn.call(f[a].context,e);break;case 3:f[a].fn.call(f[a].context,e,n);break;case 4:f[a].fn.call(f[a].context,e,n,r);break;default:if(!c)for(d=1,c=new Array(l-1);d<l;d++)c[d-1]=arguments[d];f[a].fn.apply(f[a].context,c)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||u(this,i);else{for(var c=0,a=[],f=s.length;c<f;c++)(s[c].fn!==e||r&&!s[c].once||n&&s[c].context!==n)&&a.push(s[c]);a.length?this._events[i]=1===a.length?a[0]:a:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&u(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,n){t.exports=n(116)},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(118),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){return function r(o,s){try{var u=e[o](s),c=u.value}catch(t){return void n(t)}if(!u.done)return i.default.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}("next")})}}},function(t,e,n){"use strict";var r=n(18);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){t.exports=!n(7)&&!n(11)(function(){return 7!=Object.defineProperty(n(28)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(9),o=n(12),i=n(73)(!1),s=n(32)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),c=0,a=[];for(n in u)n!=s&&r(u,n)&&a.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(a,n)||a.push(n));return a}},function(t,e,n){var r=n(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(31),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e,n){var r=n(3),o=n(0),i=n(11);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},function(t,e,n){"use strict";var r=n(80)(!0);n(54)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(23),o=n(3),i=n(55),s=n(8),u=n(16),c=n(81),a=n(24),f=n(57),l=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,h,v,y,m){c(n,e,h);var b,g,_,w=function(t){if(!d&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",S="values"==v,C=!1,O=t.prototype,k=O[l]||O["@@iterator"]||v&&O[v],F=k||w(v),E=v?S?w("entries"):F:void 0,j="Array"==e&&O.entries||k;if(j&&(_=f(j.call(new t)))!==Object.prototype&&_.next&&(a(_,x,!0),r||"function"==typeof _[l]||s(_,l,p)),S&&k&&"values"!==k.name&&(C=!0,F=function(){return k.call(this)}),r&&!m||!d&&!C&&O[l]||s(O,l,F),u[e]=F,u[x]=p,v)if(b={values:S?F:w("values"),keys:y?F:w("keys"),entries:E},m)for(g in b)g in O||i(O,g,b[g]);else o(o.P+o.F*(d||C),e,b);return b}},function(t,e,n){t.exports=n(8)},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(9),o=n(22),i=n(32)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(83);for(var r=n(1),o=n(8),i=n(16),s=n(2)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<u.length;c++){var a=u[c],f=r[a],l=f&&f.prototype;l&&!l[s]&&o(l,s,a),i[a]=i.Array}},function(t,e,n){var r=n(48),o=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(21),o=n(19),i=n(12),s=n(29),u=n(9),c=n(47),a=Object.getOwnPropertyDescriptor;e.f=n(7)?a:function(t,e){if(t=i(t),e=s(e,!0),c)try{return a(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(51),i=(r=o)&&r.__esModule?r:{default:r};e.decodeBrowserWrapper=function(t){var e=JSON.parse(t),n=e[0];if(0!==n)throw new Error("Unknown message version: "+n);return{type:c[e[1]],subId:e[2],msg:e[3]}},e.decodeMessage=function(t,e){if("b"===t||"u"===t){if(void 0===u[e[0]])throw new Error("Unsupported version: "+e[0]);for(var n={},r=u[e[0]],o=0;o<e.length;o++)if("content"===r[o]){if(n.contentType!==s)throw new Error("Unknown content type: "+n.contentType);n[r[o]]=JSON.parse(e[o])}else n[r[o]]=e[o];return n}return e},e.createSubscribeRequest=function(t,e){var n={stream:t};return(0,i.default)(e).forEach(function(t){n[t]=e[t]}),n},e.isByeMessage=function(t){return!!t[a]};var s=27,u={28:["version","streamId","streamPartition","timestamp","ttl","offset","previousOffset","contentType","content"]},c=["b","u","subscribed","unsubscribed","resending","resent","no_resend"],a="_bye"},function(t,e,n){var r=n(15),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(4),o=n(18),i=n(2)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[i])?e:o(n)}},function(t,e,n){var r,o,i,s=n(13),u=n(126),c=n(56),a=n(28),f=n(1),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,y=0,m={},b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},g=function(t){b.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){u("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete m[t]},"process"==n(15)(l)?r=function(t){l.nextTick(s(b,t,1))}:v&&v.now?r=function(t){v.now(s(b,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=g,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",g,!1)):r="onreadystatechange"in a("script")?function(t){c.appendChild(a("script")).onreadystatechange=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:d,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(4),o=n(6),i=n(46);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.authFetch=void 0;var r,o=c(n(44)),i=c(n(10)),s=c(n(45)),u=(e.authFetch=(r=(0,s.default)(o.default.mark(function t(e,n){var r,s,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("fetching: ",e,f),r=(0,i.default)({},f,{headers:n?{Authorization:"token "+n}:void 0}),t.next=4,(0,u.default)(e,r);case 4:return s=t.sent,t.next=7,s.text();case 7:if(c=t.sent,!s.ok||!c.length){t.next=18;break}return t.prev=9,t.abrupt("return",JSON.parse(c));case 13:throw t.prev=13,t.t0=t.catch(9),new Error("Failed to parse JSON response: "+c);case 16:t.next=23;break;case 18:if(!s.ok){t.next=22;break}return t.abrupt("return",{});case 22:throw new Error("Request to "+e+" returned with error code "+s.status+": "+c);case 23:case"end":return t.stop()}},t,this,[[9,13]])})),function(t,e){return r.apply(this,arguments)}),c(n(137)));function c(t){return t&&t.__esModule?t:{default:t}}var a=(0,c(n(17)).default)("StreamrClient:utils")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(10)),o=s(n(75)),i=s(n(114));function s(t){return t&&t.__esModule?t:{default:t}}(0,r.default)(o.default.prototype,i.default),e.default=o.default,t.exports=e.default},function(t,e,n){n(71),t.exports=n(0).Object.assign},function(t,e,n){var r=n(3);r(r.S+r.F,"Object",{assign:n(72)})},function(t,e,n){"use strict";var r=n(14),o=n(35),i=n(21),s=n(22),u=n(49),c=Object.assign;t.exports=!c||n(11)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,a=1,f=o.f,l=i.f;c>a;)for(var d,p=u(arguments[a++]),h=f?r(p).concat(f(p)):r(p),v=h.length,y=0;v>y;)l.call(p,d=h[y++])&&(n[d]=p[d]);return n}:c},function(t,e,n){var r=n(12),o=n(50),i=n(74);t.exports=function(t){return function(e,n,s){var u,c=r(e),a=o(c.length),f=i(s,a);if(t&&n!=n){for(;a>f;)if((u=c[f++])!=u)return!0}else for(;a>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(31),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(51)),o=v(n(36)),i=v(n(10)),s=v(n(40)),u=v(n(25)),c=v(n(26)),a=v(n(41)),f=v(n(42)),l=v(n(43)),d=v(n(17)),p=n(110),h=v(n(112));function v(t){return t&&t.__esModule?t:{default:t}}var y=(0,d.default)("StreamrClient"),m=function(t){function e(t){(0,u.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this));return n.options={url:"wss://www.streamr.com/api/v1/ws",restUrl:"https://www.streamr.com/api/v1",autoConnect:!0,autoDisconnect:!0,apiKey:null},n.subsByStream={},n.subById={},n.connection=null,n.connected=!1,(0,i.default)(n.options,t||{}),n.options.authKey&&!n.options.apiKey&&(n.options.apiKey=n.options.authKey),n}return(0,f.default)(e,t),(0,c.default)(e,[{key:"_addSubscription",value:function(t){this.subById[t.id]=t,this.subsByStream[t.streamId]?this.subsByStream[t.streamId].push(t):this.subsByStream[t.streamId]=[t]}},{key:"_removeSubscription",value:function(t){delete this.subById[t.id],this.subsByStream[t.streamId]&&(this.subsByStream[t.streamId]=this.subsByStream[t.streamId].filter(function(e){return e!==t}),0===this.subsByStream[t.streamId].length&&delete this.subsByStream[t.streamId])}},{key:"getSubscriptions",value:function(t){return this.subsByStream[t]||[]}},{key:"subscribe",value:function(t,e,n){var r=this;if(!t)throw new Error("subscribe: Invalid arguments: subscription options is required!");if(!e)throw new Error("subscribe: Invalid arguments: callback is required!");var s=void 0;if("string"==typeof t)s={stream:t};else{if("object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("subscribe: options must be an object! Given: "+t);s=t}if((0,i.default)(s,n),!s.stream)throw new Error("subscribe: Invalid arguments: options.stream is not given");var u=new p.Subscription(s.stream,s.partition||0,s.apiKey||this.options.apiKey,e,s);return u.on("gap",function(t,e){r._requestResend(u,{resend_from:t,resend_to:e})}),u.on("done",function(){y("done event for sub %d",u.id),r.unsubscribe(u)}),this._addSubscription(u),this.connected?this._resendAndSubscribe(u):this.options.autoConnect&&this.connect(),u}},{key:"unsubscribe",value:function(t){if(!t||!t.streamId)throw new Error("unsubscribe: please give a Subscription object as an argument!");void 0!==this.subsByStream[t.streamId]&&1===this.subsByStream[t.streamId].length&&this.connected&&!this.disconnecting&&t.getState()===p.State.subscribed?(t.setState(p.State.unsubscribing),this._requestUnsubscribe(t.streamId)):t.getState()!==p.State.unsubscribing&&(this._removeSubscription(t),t.setState(p.State.unsubscribed),this._checkAutoDisconnect())}},{key:"unsubscribeAll",value:function(t){var e=this;if(!t)throw new Error("unsubscribeAll: a stream id is required!");if("string"!=typeof t)throw new Error("unsubscribe: stream id must be a string!");this.subsByStream[t]&&this.subsByStream[t].slice().forEach(function(t){e.unsubscribe(t)})}},{key:"isConnected",value:function(){return this.connected}},{key:"reconnect",value:function(){return this.connect(!0)}},{key:"connect",value:function(){var t=this;this.connected?y("connect() called while already connected, doing nothing..."):this.connecting?y("connect() called while connecting, doing nothing..."):(y("Connecting to %s",this.options.url),this.connecting=!0,this.disconnecting=!1,this.connection=new h.default(this.options),this.connection.on("b",function(e){var n=t.subsByStream[e.streamId];if(n)for(var r=0;r<n.length;r++)n[r].handleMessage(e,!1);else y("WARN: message received for stream with no subscriptions: %s",e.streamId)}),this.connection.on("u",function(e,n){void 0!==n&&void 0!==t.subById[n]?t.subById[n].handleMessage(e,!0):y("WARN: subscription not found for stream: %s, sub: %s",e.streamId,n)}),this.connection.on("subscribed",function(e){if(e.error)t.handleError("Error subscribing to "+e.stream+": "+e.error);else{var n=t.subsByStream[e.stream];delete n.subscribing,y("Client subscribed: %o",e),n.filter(function(t){return!t.resending}).forEach(function(t){t.setState(p.State.subscribed)})}}),this.connection.on("unsubscribed",function(e){(y("Client unsubscribed: %o",e),t.subsByStream[e.stream])&&t.subsByStream[e.stream].slice().forEach(function(e){t._removeSubscription(e),e.setState(p.State.unsubscribed)});t._checkAutoDisconnect()}),this.connection.on("resending",function(e){t.subById[e.sub]?t.subById[e.sub].emit("resending",e):y("resent: Subscription %d is gone already",e.sub)}),this.connection.on("no_resend",function(e){t.subById[e.sub]?t.subById[e.sub].emit("no_resend",e):y("resent: Subscription %d is gone already",e.sub)}),this.connection.on("resent",function(e){t.subById[e.sub]?t.subById[e.sub].emit("resent",e):y("resent: Subscription %d is gone already",e.sub)}),this.connection.on("connected",function(){y("Connected!"),t.connected=!0,t.connecting=!1,t.disconnecting=!1,t.emit("connected"),(0,r.default)(t.subsByStream).forEach(function(e){t.subsByStream[e].forEach(function(e){e.getState()!==p.State.subscribed&&t._resendAndSubscribe(e)})})}),this.connection.on("disconnected",function(){y("Disconnected."),t.connected=!1,t.connecting=!1,t.disconnecting=!1,t.emit("disconnected"),(0,r.default)(t.subsByStream).forEach(function(e){var n=t.subsByStream[e];delete n.subscribing,n.forEach(function(t){t.setState(p.State.unsubscribed)})})}),this.connection.connect())}},{key:"pause",value:function(){this.connection.disconnect()}},{key:"disconnect",value:function(){var t=this;this.connecting=!1,this.disconnecting=!0,(0,r.default)(this.subsByStream).forEach(function(e){t.unsubscribeAll(e)}),this.connection.disconnect()}},{key:"_checkAutoDisconnect",value:function(){this.options.autoDisconnect&&0===(0,r.default)(this.subsByStream).length&&(y("Disconnecting due to no longer being subscribed to any streams"),this.disconnect())}},{key:"_resendAndSubscribe",value:function(t){var e=this;t.getState()===p.State.subscribing||t.resending||(t.setState(p.State.subscribing),this._requestSubscribe(t),t.once("subscribed",function(){t.hasResendOptions()&&e._requestResend(t)}))}},{key:"_requestSubscribe",value:function(t){var e=this.subsByStream[t.streamId],n=e.filter(function(t){return t.getState()===p.State.subscribed});if(e.subscribing||0!==n.length)n.length>0&&(y("_requestSubscribe: another subscription for same stream: %s, insta-subscribing",t.streamId),setTimeout(function(){t.setState(p.State.subscribed)}));else{var r=(0,i.default)({},t.options,{type:"subscribe",stream:t.streamId,authKey:t.apiKey});y("_requestSubscribe: subscribing client: %o",r),e.subscribing=!0,this.connection.send(r)}}},{key:"_requestUnsubscribe",value:function(t){y("Client unsubscribing stream %o",t),this.connection.send({type:"unsubscribe",stream:t})}},{key:"_requestResend",value:function(t,e){var n=(0,i.default)({},t.getEffectiveResendOptions());e&&(0,r.default)(n).forEach(function(t){t.match(/resend_.*/)&&delete n[t]}),t.setResending(!0);var o=(0,i.default)({},n,e,{type:"resend",stream:t.streamId,partition:t.streamPartition,authKey:t.apiKey,sub:t.id});y("_requestResend: %o",o),this.connection.send(o)}},{key:"handleError",value:function(t){y(t),this.emit("error",t)}}]),e}(l.default);e.default=m,t.exports=e.default},function(t,e,n){n(77),t.exports=n(0).Object.keys},function(t,e,n){var r=n(22),o=n(14);n(52)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){t.exports={default:n(79),__esModule:!0}},function(t,e,n){n(53),n(58),t.exports=n(38).f("iterator")},function(t,e,n){var r=n(31),o=n(30);t.exports=function(t){return function(e,n){var i,s,u=String(o(e)),c=r(n),a=u.length;return c<0||c>=a?t?"":void 0:(i=u.charCodeAt(c))<55296||i>56319||c+1===a||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):i:t?u.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(37),o=n(19),i=n(24),s={};n(8)(s,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(5),o=n(4),i=n(14);t.exports=n(7)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),u=s.length,c=0;u>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){"use strict";var r=n(84),o=n(85),i=n(16),s=n(12);t.exports=n(54)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){n(88),n(61),n(93),n(94),t.exports=n(0).Symbol},function(t,e,n){"use strict";var r=n(1),o=n(9),i=n(7),s=n(3),u=n(55),c=n(89).KEY,a=n(11),f=n(33),l=n(24),d=n(20),p=n(2),h=n(38),v=n(39),y=n(90),m=n(91),b=n(4),g=n(6),_=n(12),w=n(29),x=n(19),S=n(37),C=n(92),O=n(60),k=n(5),F=n(14),E=O.f,j=k.f,P=C.f,M=r.Symbol,T=r.JSON,L=T&&T.stringify,I=p("_hidden"),R=p("toPrimitive"),A={}.propertyIsEnumerable,B=f("symbol-registry"),N=f("symbols"),K=f("op-symbols"),U=Object.prototype,q="function"==typeof M,G=r.QObject,D=!G||!G.prototype||!G.prototype.findChild,W=i&&a(function(){return 7!=S(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(U,e);r&&delete U[e],j(t,e,n),r&&t!==U&&j(U,e,r)}:j,J=function(t){var e=N[t]=S(M.prototype);return e._k=t,e},z=q&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},V=function(t,e,n){return t===U&&V(K,e,n),b(t),e=w(e,!0),b(n),o(N,e)?(n.enumerable?(o(t,I)&&t[I][e]&&(t[I][e]=!1),n=S(n,{enumerable:x(0,!1)})):(o(t,I)||j(t,I,x(1,{})),t[I][e]=!0),W(t,e,n)):j(t,e,n)},H=function(t,e){b(t);for(var n,r=y(e=_(e)),o=0,i=r.length;i>o;)V(t,n=r[o++],e[n]);return t},Q=function(t){var e=A.call(this,t=w(t,!0));return!(this===U&&o(N,t)&&!o(K,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,I)&&this[I][t])||e)},Y=function(t,e){if(t=_(t),e=w(e,!0),t!==U||!o(N,e)||o(K,e)){var n=E(t,e);return!n||!o(N,e)||o(t,I)&&t[I][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=P(_(t)),r=[],i=0;n.length>i;)o(N,e=n[i++])||e==I||e==c||r.push(e);return r},Z=function(t){for(var e,n=t===U,r=P(n?K:_(t)),i=[],s=0;r.length>s;)!o(N,e=r[s++])||n&&!o(U,e)||i.push(N[e]);return i};q||(u((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(K,n),o(this,I)&&o(this[I],t)&&(this[I][t]=!1),W(this,t,x(1,n))};return i&&D&&W(U,t,{configurable:!0,set:e}),J(t)}).prototype,"toString",function(){return this._k}),O.f=Y,k.f=V,n(59).f=C.f=$,n(21).f=Q,n(35).f=Z,i&&!n(23)&&u(U,"propertyIsEnumerable",Q,!0),h.f=function(t){return J(p(t))}),s(s.G+s.W+s.F*!q,{Symbol:M});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;X.length>tt;)p(X[tt++]);for(var et=F(p.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!q,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=M(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){D=!0},useSimple:function(){D=!1}}),s(s.S+s.F*!q,"Object",{create:function(t,e){return void 0===e?S(t):H(S(t),e)},defineProperty:V,defineProperties:H,getOwnPropertyDescriptor:Y,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),T&&s(s.S+s.F*(!q||a(function(){var t=M();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(g(e)||void 0!==t)&&!z(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,L.apply(T,r)}}),M.prototype[R]||n(8)(M.prototype,R,M.prototype.valueOf),l(M,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(20)("meta"),o=n(6),i=n(9),s=n(5).f,u=0,c=Object.isExtensible||function(){return!0},a=!n(11)(function(){return c(Object.preventExtensions({}))}),f=function(t){s(t,r,{value:{i:"O"+ ++u,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return a&&l.NEED&&c(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(14),o=n(35),i=n(21);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,u=n(t),c=i.f,a=0;u.length>a;)c.call(t,s=u[a++])&&e.push(s);return e}},function(t,e,n){var r=n(15);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(12),o=n(59).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,n){n(39)("asyncIterator")},function(t,e,n){n(39)("observable")},function(t,e,n){n(96),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){var r=n(22),o=n(57);n(52)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){t.exports={default:n(98),__esModule:!0}},function(t,e,n){n(99);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(3);r(r.S+r.F*!n(7),"Object",{defineProperty:n(5).f})},function(t,e,n){t.exports={default:n(101),__esModule:!0}},function(t,e,n){n(102),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(103).set})},function(t,e,n){var r=n(6),o=n(4),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(13)(Function.call,n(60).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={default:n(105),__esModule:!0}},function(t,e,n){n(106);var r=n(0).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(3);r(r.S,"Object",{create:n(37)})},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,a=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?a=c.concat(a):l=-1,a.length&&p())}function p(){if(!f){var t=u(d);f=!0;for(var e=a.length;e;){for(c=a,a=[];++l<e;)c&&c[l].run();l=-1,e=a.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new h(t,e)),1!==a.length||f||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(t,i),s.splice(c,1),c--}return n}),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(109),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=365.25*i;function u(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var c,a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===a&&!1===isNaN(t))return e.long?u(c=t,i,"day")||u(c,o,"hour")||u(c,r,"minute")||u(c,n,"second")||c+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subscription=e.State=void 0;var r=d(n(27)),o=d(n(40)),i=d(n(25)),s=d(n(26)),u=d(n(41)),c=d(n(42)),a=d(n(43)),f=d(n(17)),l=n(62);function d(t){return t&&t.__esModule?t:{default:t}}var p=(0,f.default)("StreamrClient::Subscription"),h=0;var v=e.State={unsubscribed:"unsubscribed",subscribing:"subscribing",subscribed:"subscribed",unsubscribing:"unsubscribing"};e.Subscription=function(t){function e(t,n,s,c,a){(0,i.default)(this,e);var f,l=(0,u.default)(this,(e.__proto__||(0,o.default)(e)).call(this));if(!t)throw new Error("No stream id given!");if(!c)throw new Error("No callback given!");l.id=(f=h,h+=1,f.toString()),l.streamId=t,l.streamPartition=n,l.apiKey=s,l.callback=c,l.options=a||{},l.queue=[],l.state=v.unsubscribed,l.resending=!1,l.lastReceivedOffset=null;var d=0;if(l.options.resend_all&&(d+=1),null!=l.options.resend_from&&(d+=1),null!=l.options.resend_last&&(d+=1),null!=l.options.resend_from_time&&(d+=1),d>1)throw new Error("Multiple resend options active! Please use only one: "+(0,r.default)(a));if(null!=l.options.resend_from_time&&"number"!=typeof l.options.resend_from_time){if("function"!=typeof l.options.resend_from_time.getTime)throw new Error("resend_from_time option must be a Date object or a number representing time!");l.options.resend_from_time=l.options.resend_from_time.getTime()}return l.on("unsubscribed",function(){l.setResending(!1)}),l.on("no_resend",function(t){p("Sub %s no_resend: %o",l.id,t),l.setResending(!1),l.checkQueue()}),l.on("resent",function(t){p("Sub %s resent: %o",l.id,t),l.setResending(!1),l.checkQueue()}),l.on("connected",function(){}),l.on("disconnected",function(){l.setState(v.unsubscribed),l.setResending(!1)}),l}return(0,c.default)(e,t),(0,s.default)(e,[{key:"checkForGap",value:function(t){return null!=t.previousOffset&&null!=this.lastReceivedOffset&&t.previousOffset>this.lastReceivedOffset}},{key:"handleMessage",value:function(t,e){if(null==t.previousOffset&&p("handleMessage: prevOffset is null, gap detection is impossible! message: %o",t),this.resending&&!e)this.queue.push(t);else if(this.checkForGap(t)&&!this.resending){this.queue.push(t);var n=this.lastReceivedOffset+1,r=t.previousOffset;p("Gap detected, requesting resend for stream %s from %d to %d",this.streamId,n,r),this.emit("gap",n,r)}else null!=this.lastReceivedOffset&&t.offset<=this.lastReceivedOffset?p("Sub %s already received message: %d, lastReceivedOffset: %d. Ignoring message.",this.id,t.offset,this.lastReceivedOffset):(this.lastReceivedOffset=t.offset,this.callback(t.content,t),(0,l.isByeMessage)(t.content)&&this.emit("done"))}},{key:"checkQueue",value:function(){var t=this;if(this.queue.length){p("Attempting to process %d queued messages for stream %s",this.queue.length,this.streamId);var e=this.queue;this.queue=[],e.forEach(function(e){return t.handleMessage(e,!1)})}}},{key:"hasResendOptions",value:function(){return!0===this.options.resend_all||this.options.resend_from>=0||this.options.resend_from_time>=0||this.options.resend_last>0}},{key:"getEffectiveResendOptions",value:function(){if(this.hasReceivedMessages()&&this.hasResendOptions()){if(this.options.resend_all||this.options.resend_from||this.options.resend_from_time)return{resend_from:this.lastReceivedOffset+1};if(this.options.resend_last)return this.options}return this.options}},{key:"hasReceivedMessages",value:function(){return null!=this.lastReceivedOffset}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){p("Subscription: Stream "+this.streamId+" state changed "+this.state+" => "+t),this.state=t,this.emit(t)}},{key:"isResending",value:function(){return this.resending}},{key:"setResending",value:function(t){p("Subscription: Stream "+this.streamId+" resending: "+t),this.resending=t}}]),e}(a.default)},function(t,e,n){var r=n(0),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(27)),o=p(n(40)),i=p(n(25)),s=p(n(26)),u=p(n(41)),c=p(n(42)),a=p(n(43)),f=p(n(17)),l=p(n(113)),d=n(62);function p(t){return t&&t.__esModule?t:{default:t}}var h=(0,f.default)("StreamrClient::Connection"),v=function(t){function e(t){(0,i.default)(this,e);var n=(0,u.default)(this,(e.__proto__||(0,o.default)(e)).call(this));if(!t.url)throw new Error("URL is not defined!");return n.options=t,n.connected=!1,n.connecting=!1,n.disconnecting=!1,t.autoConnect&&n.connect(),n}return(0,c.default)(e,t),(0,s.default)(e,[{key:"connect",value:function(){var t=this;this.connected||this.connecting||(this.connecting=!0,this.socket=new l.default(this.options.url),this.socket.binaryType="arraybuffer",this.emit("connecting"),this.socket.onopen=function(){h("Connected to ",t.options.url),t.connected=!0,t.connecting=!1,t.emit("connected")},this.socket.onclose=function(){t.disconnecting?t.disconnecting=!1:(h("Connection lost. Attempting to reconnect"),setTimeout(function(){t.connect()},2e3)),t.connected=!1,t.connecting=!1,t.emit("disconnected")},this.socket.onmessage=function(e){var n=(0,d.decodeBrowserWrapper)(e.data);t.emit(n.type,(0,d.decodeMessage)(n.type,n.msg),n.subId)})}},{key:"disconnect",value:function(){void 0!==this.socket&&(this.connected||this.connecting)&&(this.disconnecting=!0,this.socket.close())}},{key:"send",value:function(t){this.socket.send((0,r.default)(t))}}]),e}(a.default);e.default=v,t.exports=e.default},function(t,e,n){"use strict";var r=void 0;r="undefined"!=typeof WebSocket?WebSocket:window.WebSocket,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(115));var u=(0,i.default)({},s);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrCreateStream=e.createStream=e.getStreamByName=e.listStreams=e.getStream=void 0;var r,o,i,s,u,c=y(n(10)),a=y(n(27)),f=y(n(44)),l=y(n(45));e.getStream=(r=(0,l.default)(f.default.mark(function t(e){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.apiKey;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.options.restUrl+"/streams/"+e,t.next=3,(0,v.authFetch)(n,o);case 3:return r=t.sent,t.abrupt("return",r?new h.default(this,r):void 0);case 5:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),e.listStreams=(o=(0,l.default)(f.default.mark(function t(){var e,n,r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.apiKey;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options.restUrl+"/streams?"+(0,d.stringify)(o),t.next=3,(0,v.authFetch)(e,i);case 3:return n=t.sent,t.abrupt("return",n?n.map(function(t){return new h.default(r,t)}):[]);case 5:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),e.getStreamByName=(i=(0,l.default)(f.default.mark(function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.apiKey;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listStreams({name:e,public:!1},r);case 2:return n=t.sent,t.abrupt("return",n[0]?new h.default(this,n[0]):void 0);case 4:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)}),e.createStream=(s=(0,l.default)(f.default.mark(function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.apiKey;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.name){t.next=2;break}throw new Error('Stream properties must contain a "name" field!');case 2:return t.next=4,(0,v.authFetch)(this.options.restUrl+"/streams",r,{method:"POST",body:(0,a.default)(e)});case 4:return n=t.sent,t.abrupt("return",n?new h.default(this,n):void 0);case 6:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)}),e.getOrCreateStream=(u=(0,l.default)(f.default.mark(function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.apiKey;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=void 0,!e.id){t.next=7;break}return t.next=4,this.getStream(e.id,r);case 4:n=t.sent,t.next=11;break;case 7:if(!e.name){t.next=11;break}return t.next=10,this.getStreamByName(e.name,r);case 10:n=t.sent;case 11:if(n){t.next=16;break}return t.next=14,this.createStream(e,r);case 14:n=t.sent,(0,p.default)("Created stream: %s (%s)",e.name,n.id);case 16:if(n){t.next=20;break}throw new Error("Unable to find or create stream: "+e.name);case 20:return t.abrupt("return",new h.default(this,n));case 21:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)});e.produceToStream=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.apiKey,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0;o=t instanceof h.default?t.id:t;return(0,v.authFetch)(this.options.restUrl+"/streams/"+o+"/data",n,(0,c.default)({},r,{method:"POST",body:(0,a.default)(e)}))};var d=n(133),p=y(n(17)),h=y(n(136)),v=n(68);function y(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(117),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",a="object"==typeof t,f=e.regeneratorRuntime;if(f)a&&(t.exports=f);else{(f=e.regeneratorRuntime=a?t.exports:{}).wrap=_;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},y={};y[s]=function(){return this};var m=Object.getPrototypeOf,b=m&&m(m(M([])));b&&b!==r&&o.call(b,s)&&(y=b);var g=C.prototype=x.prototype=Object.create(y);S.prototype=g.constructor=C,C.constructor=S,C[c]=S.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},f.awrap=function(t){return{__await:t}},O(k.prototype),k.prototype[u]=function(){return this},f.AsyncIterator=k,f.async=function(t,e,n,r){var o=new k(_(t,e,n,r));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(g),g[c]="Generator",g[s]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return u.type="throw",u.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],u=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),a=o.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function _(t,e,n,r){var o=e&&e.prototype instanceof x?e:x,i=Object.create(o.prototype),s=new P(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var u=F(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=w(t,e,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,s),i}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function C(){}function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,s){var u=w(t[n],t,r);if("throw"!==u.type){var c=u.arg,a=c.value;return a&&"object"==typeof a&&o.call(a,"__await")?Promise.resolve(a.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(a).then(function(t){c.value=t,i(c)},s)}s(u.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function F(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,F(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=w(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function M(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){n(61),n(53),n(58),n(120),n(131),n(132),t.exports=n(0).Promise},function(t,e,n){"use strict";var r,o,i,s,u=n(23),c=n(1),a=n(13),f=n(63),l=n(3),d=n(6),p=n(18),h=n(121),v=n(122),y=n(64),m=n(65).set,b=n(127)(),g=n(46),_=n(66),w=n(67),x=c.TypeError,S=c.process,C=c.Promise,O="process"==f(S),k=function(){},F=o=g.f,E=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(2)("species")]=function(t){t(k,k)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),j=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var r=t._v,o=1==t._s,i=0,s=function(e){var n,i,s,u=o?e.ok:e.fail,c=e.resolve,a=e.reject,f=e.domain;try{u?(o||(2==t._h&&L(t),t._h=1),!0===u?n=r:(f&&f.enter(),n=u(r),f&&(f.exit(),s=!0)),n===e.promise?a(x("Promise-chain cycle")):(i=j(n))?i.call(n,c,a):c(n)):a(r)}catch(t){f&&!s&&f.exit(),a(t)}};n.length>i;)s(n[i++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){m.call(c,function(){var e,n,r,o=t._v,i=T(t);if(i&&(e=_(function(){O?S.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=O||T(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){m.call(c,function(){var e;O?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},R=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=j(t))?b(function(){var r={_w:n,_d:!1};try{e.call(t,a(R,r,1),a(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,P(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};E||(C=function(t){h(this,C,"Promise","_h"),p(t),r.call(this);try{t(a(R,this,1),a(I,this,1))}catch(t){I.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(128)(C.prototype,{then:function(t,e){var n=F(y(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=a(R,t,1),this.reject=a(I,t,1)},g.f=F=function(t){return t===C||t===s?new i(t):o(t)}),l(l.G+l.W+l.F*!E,{Promise:C}),n(24)(C,"Promise"),n(129)("Promise"),s=n(0).Promise,l(l.S+l.F*!E,"Promise",{reject:function(t){var e=F(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(u||!E),"Promise",{resolve:function(t){return w(u&&this===s?C:this,t)}}),l(l.S+l.F*!(E&&n(130)(function(t){C.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=F(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,s=1;v(t,!1,function(t){var u=i++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[u]=t,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=F(e),r=n.reject,o=_(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(13),o=n(123),i=n(124),s=n(4),u=n(50),c=n(125),a={},f={};(e=t.exports=function(t,e,n,l,d){var p,h,v,y,m=d?function(){return t}:c(t),b=r(n,l,e?2:1),g=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(p=u(t.length);p>g;g++)if((y=e?b(s(h=t[g])[0],h[1]):b(t[g]))===a||y===f)return y}else for(v=m.call(t);!(h=v.next()).done;)if((y=o(v,b,h.value,e))===a||y===f)return y}).BREAK=a,e.RETURN=f},function(t,e,n){var r=n(4);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(16),o=n(2)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(63),o=n(2)("iterator"),i=n(16);t.exports=n(0).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(1),o=n(65).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,u=r.Promise,c="process"==n(15)(s);t.exports=function(){var t,e,n,a=function(){var r,o;for(c&&(r=s.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(a)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve();n=function(){f.then(a)}}else n=function(){o.call(r,a)};else{var l=!0,d=document.createTextNode("");new i(a).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(8);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){"use strict";var r=n(1),o=n(0),i=n(5),s=n(7),u=n(2)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];s&&e&&!e[u]&&i.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(3),o=n(0),i=n(1),s=n(64),u=n(67);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then(function(){return n})}:t,n?function(n){return u(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(3),o=n(46),i=n(66);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";e.decode=e.parse=n(134),e.encode=e.stringify=n(135)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var u=/\+/g;t=t.split(e);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var a=t.length;c>0&&a>c&&(a=c);for(var f=0;f<a;++f){var l,d,p,h,v=t[f].replace(u,"%20"),y=v.indexOf(n);y>=0?(l=v.substr(0,y),d=v.substr(y+1)):(l=v,d=""),p=decodeURIComponent(l),h=decodeURIComponent(d),r(s,p)?o(s[p])?s[p].push(h):s[p]=[s[p],h]:s[p]=h}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,u){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var u=encodeURIComponent(r(s))+n;return o(t[s])?i(t[s],function(t){return u+encodeURIComponent(r(t))}).join(e):u+encodeURIComponent(r(t[s]))}).join(e):u?encodeURIComponent(r(u))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(44)),o=f(n(27)),i=f(n(45)),s=f(n(10)),u=f(n(25)),c=f(n(26)),a=n(68);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n){(0,u.default)(this,t),this._client=e,(0,s.default)(this,n)}return(0,c.default)(t,[{key:"update",value:function(){var e=(0,i.default)(r.default.mark(function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._client.options.apiKey;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.authFetch)(this._client.options.restUrl+"/streams/"+this.id,i,{method:"PUT",body:(0,o.default)(this)});case 2:return n=e.sent,e.abrupt("return",n?new t(this._client,n):void 0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._client.options.apiKey;return(0,a.authFetch)(this._client.options.restUrl+"/streams/"+this.id,t,{method:"DELETE"})}},{key:"getPermissions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._client.options.apiKey;return(0,a.authFetch)(this._client.options.restUrl+"/streams/"+this.id+"/permissions",t)}},{key:"isPublic",value:function(){var t=(0,i.default)(r.default.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._client.options.apiKey;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPermissions(n);case 2:return e=t.sent,t.abrupt("return",void 0!==e.find(function(t){return t.anonymous&&"read"===t.operation}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"makePublic",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._client.options.apiKey;return(0,a.authFetch)(this._client.options.restUrl+"/streams/"+this.id+"/permissions",t,{method:"POST",body:(0,o.default)({anonymous:!0,operation:"read"})})}},{key:"detectFields",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._client.options.apiKey;return(0,a.authFetch)(this._client.options.restUrl+"/streams/"+this.id+"/detectFields",t)}},{key:"produce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._client.options.apiKey,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._client.produceToStream(this.id,t,e,n)}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";"undefined"!=typeof fetch?t.exports=fetch:t.exports=window.fetch}])});